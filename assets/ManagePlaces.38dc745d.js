import{Q as _}from"./QPage.4666819e.js";import{u as f}from"./store.7aca733c.js";import{G as g,r as i,o as h,e as w,d as v,I as u,S as y,a7 as k,_ as q,w as M,J as S,K as I,R as c,L as x,Y as V,a5 as b,a6 as A}from"./index.cb75e1a4.js";import"./render.462c5064.js";const P=g({props:{modelValue:{type:String,default:""},apiKey:{type:String,required:!0},placeholder:{type:String,default:""},class:{type:String,default:""}},emits:["update:modelValue","callback"],setup(e,{emit:s}){const a=i(null);let o=!1;function n(){return new Promise((t,r)=>{if(window.google&&window.google.maps&&window.google.maps.places)t();else if(!o){o=!0;const d=document.createElement("script");d.setAttribute("src",`https://maps.googleapis.com/maps/api/js?key=${e.apiKey}&libraries=places&callback=initMap`),window.initMap=()=>{t()},d.onerror=m=>{r(m)},document.head.appendChild(d)}})}h(async()=>{try{await n(),await w(),l()}catch(t){console.error("Failed to load Google Maps API",t)}}),v(()=>{delete window.initMap});function l(){if(a.value){const t=new google.maps.places.Autocomplete(a.value);t.addListener("place_changed",()=>{const r=t.getPlace();s("update:modelValue",r.formatted_address),s("callback",r)})}}return{autocompleteInput:a}}}),B=(e,s)=>{const a=e.__vccOpts||e;for(const[o,n]of s)a[o]=n;return a},C=["placeholder"];function K(e,s,a,o,n,l){return u(),y("input",{ref:"autocompleteInput",type:"text",autocomplete:"off",placeholder:e.placeholder,class:k(e.class)},null,10,C)}const G=B(P,[["render",K]]);const p=e=>(b("data-v-035fea1e"),e=e(),A(),e),j={class:"q-field__control relative-position row no-wrap"},z=p(()=>c("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center"},[c("i",{"data-v-9d03536e":"",class:"q-icon notranslate material-icons","aria-hidden":"true",role:"presentation"},"place")],-1)),D=p(()=>c("div",{class:"q-field__append q-field__marginal row no-wrap items-center"},[c("i",{"data-v-9d03536e":"",class:"q-icon notranslate material-icons","aria-hidden":"true",role:"presentation"},"home")],-1)),E=p(()=>c("br",null,null,-1)),J="AIzaSyDGK-JloxIj-G_a4W5MahoD2w4AlYVBA7c",L={__name:"ManagePlaces",setup(e){const s=f(),a=i(s.home),o=i(a.value.address);M(a,l=>{o.value=l.address});const n=l=>{a.value={address:l.formatted_address,lat:l.geometry.location.lat(),lng:l.geometry.location.lng()},s.setHome(a)};return(l,t)=>(u(),S(_,{class:"flex column q-pa-sm"},{default:I(()=>[c("div",j,[z,x(V(G),{apiKey:J,modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=r=>o.value=r),onCallback:n,class:"q-field__native q-placeholder",placeholder:o.value},null,8,["modelValue","placeholder"]),D]),E]),_:1}))}};var F=q(L,[["__scopeId","data-v-035fea1e"]]);export{F as default};
