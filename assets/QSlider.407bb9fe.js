import{a as oe,u as ue}from"./use-dark.8a94769f.js";import{e as Pe,b as De}from"./use-router-link.0257468d.js";import{r as B,a as l,h as d,g as H,a7 as A,s as G,d as Ee,W as Oe,a8 as je,a9 as X,w as Ke}from"./index.ee300dbb.js";import{u as se,b as ie,c as Qe}from"./use-form.25474be8.js";import{d as ce,h as We,c as ve,b as Ue}from"./render.8f47e273.js";import{b as N,T as Xe}from"./QItem.fff22435.js";function Ge(a,k){const r=B(null),u=l(()=>a.disable===!0?null:d("span",{ref:r,class:"no-outline",tabindex:-1}));function e(h){const b=k.value;h!==void 0&&h.type.indexOf("key")===0?b!==null&&document.activeElement!==b&&b.contains(document.activeElement)===!0&&b.focus():r.value!==null&&(h===void 0||b!==null&&b.contains(h.target)===!0)&&r.value.focus()}return{refocusTargetEl:u,refocusTarget:e}}var He={xs:30,sm:35,md:40,lg:50,xl:60};const ct={...ue,...De,...se,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:a=>a==="tf"||a==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},vt=["update:modelValue"];function dt(a,k){const{props:r,slots:u,emit:e,proxy:h}=H(),{$q:b}=h,m=oe(r,b),T=B(null),{refocusTargetEl:I,refocusTarget:C}=Ge(r,T),V=Pe(r,He),g=l(()=>r.val!==void 0&&Array.isArray(r.modelValue)),S=l(()=>{const o=A(r.val);return g.value===!0?r.modelValue.findIndex(M=>A(M)===o):-1}),c=l(()=>g.value===!0?S.value>-1:A(r.modelValue)===A(r.trueValue)),w=l(()=>g.value===!0?S.value===-1:A(r.modelValue)===A(r.falseValue)),x=l(()=>c.value===!1&&w.value===!1),p=l(()=>r.disable===!0?-1:r.tabindex||0),y=l(()=>`q-${a} cursor-pointer no-outline row inline no-wrap items-center`+(r.disable===!0?" disabled":"")+(m.value===!0?` q-${a}--dark`:"")+(r.dense===!0?` q-${a}--dense`:"")+(r.leftLabel===!0?" reverse":"")),v=l(()=>{const o=c.value===!0?"truthy":w.value===!0?"falsy":"indet",M=r.color!==void 0&&(r.keepColor===!0||(a==="toggle"?c.value===!0:w.value!==!0))?` text-${r.color}`:"";return`q-${a}__inner relative-position non-selectable q-${a}__inner--${o}${M}`}),$=l(()=>{const o={type:"checkbox"};return r.name!==void 0&&Object.assign(o,{".checked":c.value,"^checked":c.value===!0?"checked":void 0,name:r.name,value:g.value===!0?r.val:r.trueValue}),o}),q=ie($),O=l(()=>{const o={tabindex:p.value,role:a==="toggle"?"switch":"checkbox","aria-label":r.label,"aria-checked":x.value===!0?"mixed":c.value===!0?"true":"false"};return r.disable===!0&&(o["aria-disabled"]="true"),o});function L(o){o!==void 0&&(G(o),C(o)),r.disable!==!0&&e("update:modelValue",D(),o)}function D(){if(g.value===!0){if(c.value===!0){const o=r.modelValue.slice();return o.splice(S.value,1),o}return r.modelValue.concat([r.val])}if(c.value===!0){if(r.toggleOrder!=="ft"||r.toggleIndeterminate===!1)return r.falseValue}else if(w.value===!0){if(r.toggleOrder==="ft"||r.toggleIndeterminate===!1)return r.trueValue}else return r.toggleOrder!=="ft"?r.trueValue:r.falseValue;return r.indeterminateValue}function R(o){(o.keyCode===13||o.keyCode===32)&&G(o)}function z(o){(o.keyCode===13||o.keyCode===32)&&L(o)}const F=k(c,x);return Object.assign(h,{toggle:L}),()=>{const o=F();r.disable!==!0&&q(o,"unshift",` q-${a}__native absolute q-ma-none q-pa-none`);const M=[d("div",{class:v.value,style:V.value,"aria-hidden":"true"},o)];I.value!==null&&M.push(I.value);const P=r.label!==void 0?ce(u.default,[r.label]):We(u.default);return P!==void 0&&M.push(d("div",{class:`q-${a}__label q-anchor--skip`},P)),d("div",{ref:T,class:y.value,...O.value,onClick:L,onKeydown:R,onKeyup:z},M)}}const Je=["top","middle","bottom"];var mt=ve({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:a=>Je.includes(a)}},setup(a,{slots:k}){const r=l(()=>a.align!==void 0?{verticalAlign:a.align}:null),u=l(()=>{const e=a.outline===!0&&a.color||a.textColor;return`q-badge flex inline items-center no-wrap q-badge--${a.multiLine===!0?"multi":"single"}-line`+(a.outline===!0?" q-badge--outline":a.color!==void 0?` bg-${a.color}`:"")+(e!==void 0?` text-${e}`:"")+(a.floating===!0?" q-badge--floating":"")+(a.rounded===!0?" q-badge--rounded":"")+(a.transparent===!0?" q-badge--transparent":"")});return()=>d("div",{class:u.value,style:r.value,role:"status","aria-label":a.label},ce(k.default,a.label!==void 0?[a.label]:[]))}});const ne="q-slider__marker-labels",Ye=a=>({value:a}),Ze=({marker:a})=>d("div",{key:a.value,style:a.style,class:a.classes},a.label),de=[34,37,40,33,39,38],et={...ue,...se,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:a=>a>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},tt=["pan","update:modelValue","change"];function at({updateValue:a,updatePosition:k,getDragging:r,formAttrs:u}){const{props:e,emit:h,slots:b,proxy:{$q:m}}=H(),T=oe(e,m),I=ie(u),C=B(!1),V=B(!1),g=B(!1),S=B(!1),c=l(()=>e.vertical===!0?"--v":"--h"),w=l(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),x=l(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(m.lang.rtl===!0)),p=l(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),y=l(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),v=l(()=>e.disable!==!0&&e.readonly!==!0&&p.value<y.value),$=l(()=>{if(e.step===0)return n=>n;const t=(String(e.step).trim().split(".")[1]||"").length;return n=>parseFloat(n.toFixed(t))}),q=l(()=>e.step===0?1:e.step),O=l(()=>v.value===!0?e.tabindex||0:-1),L=l(()=>e.max-e.min),D=l(()=>y.value-p.value),R=l(()=>j(p.value)),z=l(()=>j(y.value)),F=l(()=>e.vertical===!0?x.value===!0?"bottom":"top":x.value===!0?"right":"left"),o=l(()=>e.vertical===!0?"height":"width"),M=l(()=>e.vertical===!0?"width":"height"),P=l(()=>e.vertical===!0?"vertical":"horizontal"),me=l(()=>{const t={role:"slider","aria-valuemin":p.value,"aria-valuemax":y.value,"aria-orientation":P.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),fe=l(()=>`q-slider q-slider${c.value} q-slider--${C.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(v.value===!0?" q-slider--editable":""))+(g.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(T.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+c.value:""));function E(t){const n="q-slider__"+t;return`${n} ${n}${c.value} ${n}${c.value}${w.value}`}function J(t){const n="q-slider__"+t;return`${n} ${n}${c.value}`}const be=l(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),ge=l(()=>J("markers")+" absolute overflow-hidden"),ke=l(()=>J("track-container")),he=l(()=>E("pin")),Ce=l(()=>E("label")),xe=l(()=>E("text-container")),pe=l(()=>E("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),Se=l(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),ye=l(()=>{const t={[M.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),$e=l(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),Y=l(()=>{const t=z.value-R.value,n={[F.value]:`${100*R.value}%`,[o.value]:t===0?"2px":`${100*t}%`};return e.innerTrackImg!==void 0&&(n.backgroundImage=`url(${e.innerTrackImg}) !important`),n});function qe(t){const{min:n,max:s,step:i}=e;let f=n+t*(s-n);if(i>0){const _=(f-p.value)%i;f+=(Math.abs(_)>=i/2?(_<0?-1:1)*i:0)-_}return f=$.value(f),N(f,p.value,y.value)}function j(t){return L.value===0?0:(t-e.min)/L.value}function Me(t,n){const s=Oe(t),i=e.vertical===!0?N((s.top-n.top)/n.height,0,1):N((s.left-n.left)/n.width,0,1);return N(x.value===!0?1-i:i,R.value,z.value)}const Z=l(()=>je(e.markers)===!0?e.markers:q.value),ee=l(()=>{const t=[],n=Z.value,s=e.max;let i=e.min;do t.push(i),i+=n;while(i<s);return t.push(s),t}),te=l(()=>{const t=` ${ne}${c.value}-`;return ne+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${x.value===!0?"rtl":"ltr"}`}),K=l(()=>e.markerLabels===!1?null:Ve(e.markerLabels).map((t,n)=>({index:n,value:t.value,label:t.label||t.value,classes:te.value+(t.classes!==void 0?" "+t.classes:""),style:{...le(t.value),...t.style||{}}}))),ae=l(()=>({markerList:K.value,markerMap:we.value,classes:te.value,getStyle:le})),Be=l(()=>{const t=D.value===0?"2px":100*Z.value/D.value;return{...Y.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}});function Ve(t){if(t===!1)return null;if(t===!0)return ee.value.map(Ye);if(typeof t=="function")return ee.value.map(s=>{const i=t(s);return X(i)===!0?{...i,value:s}:{value:s,label:i}});const n=({value:s})=>s>=e.min&&s<=e.max;return Array.isArray(t)===!0?t.map(s=>X(s)===!0?s:{value:s}).filter(n):Object.keys(t).map(s=>{const i=t[s],f=Number(s);return X(i)===!0?{...i,value:f}:{value:f,label:i}}).filter(n)}function le(t){return{[F.value]:`${100*(t-e.min)/L.value}%`}}const we=l(()=>{if(e.markerLabels===!1)return null;const t={};return K.value.forEach(n=>{t[n.value]=n}),t});function Le(){if(b["marker-label-group"]!==void 0)return b["marker-label-group"](ae.value);const t=b["marker-label"]||Ze;return K.value.map(n=>t({marker:n,...ae.value}))}const _e=l(()=>[[Xe,Te,void 0,{[P.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Te(t){t.isFinal===!0?(S.value!==void 0&&(k(t.evt),t.touch===!0&&a(!0),S.value=void 0,h("pan","end")),C.value=!1,g.value=!1):t.isFirst===!0?(S.value=r(t.evt),k(t.evt),a(),C.value=!0,h("pan","start")):(k(t.evt),a())}function re(){g.value=!1}function Ie(t){k(t,r(t)),a(),V.value=!0,C.value=!0,document.addEventListener("mouseup",Q,!0)}function Q(){V.value=!1,C.value=!1,a(!0),re(),document.removeEventListener("mouseup",Q,!0)}function Re(t){k(t,r(t)),a(!0)}function Fe(t){de.includes(t.keyCode)&&a(!0)}function Ae(t){if(e.vertical===!0)return null;const n=m.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*n-1} * ${e.thumbSize} / 2 + ${50-100*n}%))`}}function Ne(t){const n=l(()=>V.value===!1&&(g.value===t.focusValue||g.value==="both")?" q-slider--focus":""),s=l(()=>`q-slider__thumb q-slider__thumb${c.value} q-slider__thumb${c.value}-${x.value===!0?"rtl":"ltr"} absolute non-selectable`+n.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),i=l(()=>({width:e.thumbSize,height:e.thumbSize,[F.value]:`${100*t.ratio.value}%`,zIndex:g.value===t.focusValue?2:void 0})),f=l(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),_=l(()=>Ae(t.ratio.value)),W=l(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const U=[d("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[d("path",{d:e.thumbPath})]),d("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(U.push(d("div",{class:he.value+" absolute fit no-pointer-events"+f.value},[d("div",{class:Ce.value,style:{minWidth:e.thumbSize}},[d("div",{class:xe.value,style:_.value},[d("span",{class:W.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&I(U,"push")),d("div",{class:s.value,style:i.value,...t.getNodeData()},U)}}function ze(t,n,s,i){const f=[];e.innerTrackColor!=="transparent"&&f.push(d("div",{key:"inner",class:$e.value,style:Y.value})),e.selectionColor!=="transparent"&&f.push(d("div",{key:"selection",class:be.value,style:t.value})),e.markers!==!1&&f.push(d("div",{key:"marker",class:ge.value,style:Be.value})),i(f);const _=[Ue("div",{key:"trackC",class:ke.value,tabindex:n.value,...s.value},[d("div",{class:Se.value,style:ye.value},f)],"slide",v.value,()=>_e.value)];if(e.markerLabels!==!1){const W=e.switchMarkerLabelsSide===!0?"unshift":"push";_[W](d("div",{key:"markerL",class:pe.value},Le()))}return _}return Ee(()=>{document.removeEventListener("mouseup",Q,!0)}),{state:{active:C,focus:g,preventFocus:V,dragging:S,editable:v,classes:fe,tabindex:O,attributes:me,roundValueFn:$,keyStep:q,trackLen:L,innerMin:p,innerMinRatio:R,innerMax:y,innerMaxRatio:z,positionProp:F,sizeProp:o,isReversed:x},methods:{onActivate:Ie,onMobileClick:Re,onBlur:re,onKeyup:Fe,getContent:ze,getThumbRenderFn:Ne,convertRatioToModel:qe,convertModelToRatio:j,getDraggingRatio:Me}}}const lt=()=>({});var ft=ve({name:"QSlider",props:{...et,modelValue:{required:!0,default:null,validator:a=>typeof a=="number"||a===null},labelValue:[String,Number]},emits:tt,setup(a,{emit:k}){const{proxy:{$q:r}}=H(),{state:u,methods:e}=at({updateValue:c,updatePosition:x,getDragging:w,formAttrs:Qe(a)}),h=B(null),b=B(0),m=B(0);function T(){m.value=a.modelValue===null?u.innerMin.value:N(a.modelValue,u.innerMin.value,u.innerMax.value)}Ke(()=>`${a.modelValue}|${u.innerMin.value}|${u.innerMax.value}`,T),T();const I=l(()=>e.convertModelToRatio(m.value)),C=l(()=>u.active.value===!0?b.value:I.value),V=l(()=>{const v={[u.positionProp.value]:`${100*u.innerMinRatio.value}%`,[u.sizeProp.value]:`${100*(C.value-u.innerMinRatio.value)}%`};return a.selectionImg!==void 0&&(v.backgroundImage=`url(${a.selectionImg}) !important`),v}),g=e.getThumbRenderFn({focusValue:!0,getNodeData:lt,ratio:C,label:l(()=>a.labelValue!==void 0?a.labelValue:m.value),thumbColor:l(()=>a.thumbColor||a.color),labelColor:l(()=>a.labelColor),labelTextColor:l(()=>a.labelTextColor)}),S=l(()=>u.editable.value!==!0?{}:r.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:p,onBlur:e.onBlur,onKeydown:y,onKeyup:e.onKeyup});function c(v){m.value!==a.modelValue&&k("update:modelValue",m.value),v===!0&&k("change",m.value)}function w(){return h.value.getBoundingClientRect()}function x(v,$=u.dragging.value){const q=e.getDraggingRatio(v,$);m.value=e.convertRatioToModel(q),b.value=a.snap!==!0||a.step===0?q:e.convertModelToRatio(m.value)}function p(){u.focus.value=!0}function y(v){if(!de.includes(v.keyCode))return;G(v);const $=([34,33].includes(v.keyCode)?10:1)*u.keyStep.value,q=([34,37,40].includes(v.keyCode)?-1:1)*(u.isReversed.value===!0?-1:1)*(a.vertical===!0?-1:1)*$;m.value=N(u.roundValueFn.value(m.value+q),u.innerMin.value,u.innerMax.value),c()}return()=>{const v=e.getContent(V,u.tabindex,S,$=>{$.push(g())});return d("div",{ref:h,class:u.classes.value+(a.modelValue===null?" q-slider--no-value":""),...u.attributes.value,"aria-valuenow":a.modelValue},v)}}});export{mt as Q,vt as a,dt as b,ft as c,ct as u};
