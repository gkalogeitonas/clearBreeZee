import{Q as y}from"./QPage.d1272774.js";import{u as q}from"./store.43877675.js";import{G as k,r as p,o as V,e as M,d as S,I as w,S as b,a7 as I,_ as x,w as m,J as A,K as C,R as t,L as f,Y as g,a5 as K,a6 as P}from"./index.4538b830.js";import"./render.92ff6013.js";const B=k({props:{modelValue:{type:String,default:""},apiKey:{type:String,required:!0},placeholder:{type:String,default:""},class:{type:String,default:""}},emits:["update:modelValue","callback"],setup(a,{emit:l}){const o=p(null);let s=!1;function n(){return new Promise((r,i)=>{if(window.google&&window.google.maps&&window.google.maps.places)r();else if(!s){s=!0;const e=document.createElement("script");e.setAttribute("src",`https://maps.googleapis.com/maps/api/js?key=${a.apiKey}&libraries=places&callback=initMap`),window.initMap=()=>{r()},e.onerror=c=>{i(c)},document.head.appendChild(e)}})}V(async()=>{try{await n(),await M(),d()}catch(r){console.error("Failed to load Google Maps API",r)}}),S(()=>{delete window.initMap});function d(){if(o.value){const r=new google.maps.places.Autocomplete(o.value);r.addListener("place_changed",()=>{const i=r.getPlace();l("update:modelValue",i.formatted_address),l("callback",i)})}}return{autocompleteInput:o}}}),G=(a,l)=>{const o=a.__vccOpts||a;for(const[s,n]of l)o[s]=n;return o},U=["placeholder"];function j(a,l,o,s,n,d){return w(),b("input",{ref:"autocompleteInput",type:"text",autocomplete:"off",placeholder:a.placeholder,class:I(a.class)},null,10,U)}const h=G(B,[["render",j]]);const u=a=>(K("data-v-737f7052"),a=a(),P(),a),z={class:"q-field__control relative-position row no-wrap"},D=u(()=>t("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center"},[t("i",{"data-v-9d03536e":"",class:"q-icon notranslate material-icons","aria-hidden":"true",role:"presentation"},"place")],-1)),E=u(()=>t("div",{class:"q-field__append q-field__marginal row no-wrap items-center"},[t("i",{"data-v-9d03536e":"",class:"q-icon notranslate material-icons","aria-hidden":"true",role:"presentation"},"home")],-1)),J=u(()=>t("br",null,null,-1)),L={class:"q-field__control relative-position row no-wrap"},N=u(()=>t("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center"},[t("i",{"data-v-9d03536e":"",class:"q-icon notranslate material-icons","aria-hidden":"true",role:"presentation"},"place")],-1)),Q=u(()=>t("div",{class:"q-field__append q-field__marginal row no-wrap items-center"},[t("i",{"data-v-9d03536e":"",class:"q-icon notranslate material-icons","aria-hidden":"true",role:"presentation"},"push_pin")],-1)),v="AIzaSyDGK-JloxIj-G_a4W5MahoD2w4AlYVBA7c",W={__name:"ManagePlaces",setup(a){const l=q(),o=p(l.home),s=p(l.work),n=p(o.value.address),d=p(s.value.address),r=e=>{s.value={address:e.formatted_address,lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},l.setWork(s)};m(o,e=>{n.value=e.address}),m(s,e=>{d.value=e.address});const i=e=>{o.value={address:e.formatted_address,lat:e.geometry.location.lat(),lng:e.geometry.location.lng()},l.setHome(o)};return(e,c)=>(w(),A(y,{class:"flex column q-pa-sm"},{default:C(()=>[t("div",z,[D,f(g(h),{apiKey:v,modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=_=>n.value=_),onCallback:i,class:"q-field__native q-placeholder",placeholder:n.value},null,8,["modelValue","placeholder"]),E]),J,t("div",L,[N,f(g(h),{apiKey:v,modelValue:d.value,"onUpdate:modelValue":c[1]||(c[1]=_=>d.value=_),onCallback:r,class:"q-field__native q-placeholder",placeholder:d.value},null,8,["modelValue","placeholder"]),Q])]),_:1}))}};var R=x(W,[["__scopeId","data-v-737f7052"]]);export{R as default};
