import{Q as _}from"./QPage.1c86410a.js";import{u as f}from"./store.1cc66d11.js";import{z as g,r as i,o as h,e as w,d as v,B as u,K as y,aa as k,_ as q,w as M,C as S,D as x,J as c,E as I,Y as V,a5 as b,a6 as A}from"./index.f3ef414f.js";import"./render.476c5e8b.js";const B=g({props:{modelValue:{type:String,default:""},apiKey:{type:String,required:!0},placeholder:{type:String,default:""},class:{type:String,default:""}},emits:["update:modelValue","callback"],setup(e,{emit:s}){const a=i(null);let o=!1;function n(){return new Promise((t,r)=>{if(window.google&&window.google.maps&&window.google.maps.places)t();else if(!o){o=!0;const d=document.createElement("script");d.setAttribute("src",`https://maps.googleapis.com/maps/api/js?key=${e.apiKey}&libraries=places&callback=initMap`),window.initMap=()=>{t()},d.onerror=m=>{r(m)},document.head.appendChild(d)}})}h(async()=>{try{await n(),await w(),l()}catch(t){console.error("Failed to load Google Maps API",t)}}),v(()=>{delete window.initMap});function l(){if(a.value){const t=new google.maps.places.Autocomplete(a.value);t.addListener("place_changed",()=>{const r=t.getPlace();s("update:modelValue",r.formatted_address),s("callback",r)})}}return{autocompleteInput:a}}}),C=(e,s)=>{const a=e.__vccOpts||e;for(const[o,n]of s)a[o]=n;return a},P=["placeholder"];function K(e,s,a,o,n,l){return u(),y("input",{ref:"autocompleteInput",type:"text",autocomplete:"off",placeholder:e.placeholder,class:k(e.class)},null,10,P)}const z=C(B,[["render",K]]);const p=e=>(b("data-v-035fea1e"),e=e(),A(),e),D={class:"q-field__control relative-position row no-wrap"},E=p(()=>c("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center"},[c("i",{"data-v-9d03536e":"",class:"q-icon notranslate material-icons","aria-hidden":"true",role:"presentation"},"place")],-1)),G=p(()=>c("div",{class:"q-field__append q-field__marginal row no-wrap items-center"},[c("i",{"data-v-9d03536e":"",class:"q-icon notranslate material-icons","aria-hidden":"true",role:"presentation"},"home")],-1)),j=p(()=>c("br",null,null,-1)),J="AIzaSyDGK-JloxIj-G_a4W5MahoD2w4AlYVBA7c",N={__name:"ManagePlaces",setup(e){const s=f(),a=i(s.home),o=i(a.value.address);M(a,l=>{o.value=l.address});const n=l=>{a.value={address:l.formatted_address,lat:l.geometry.location.lat(),lng:l.geometry.location.lng()},s.setHome(a)};return(l,t)=>(u(),S(_,{class:"flex column q-pa-sm"},{default:x(()=>[c("div",D,[E,I(V(z),{apiKey:J,modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=r=>o.value=r),onCallback:n,class:"q-field__native q-placeholder",placeholder:o.value},null,8,["modelValue","placeholder"]),G]),j]),_:1}))}};var H=q(N,[["__scopeId","data-v-035fea1e"]]);export{H as default};
